{"filter":false,"title":"routes.js","tooltip":"/app/routes.js","undoManager":{"mark":93,"position":93,"stack":[[{"start":{"row":106,"column":4},"end":{"row":107,"column":0},"action":"insert","lines":["",""],"id":10711},{"start":{"row":107,"column":0},"end":{"row":107,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":107,"column":1},"end":{"row":108,"column":0},"action":"insert","lines":["",""],"id":10712},{"start":{"row":108,"column":0},"end":{"row":108,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":108,"column":1},"end":{"row":112,"column":4},"action":"insert","lines":["app.get('/keyword/add', isLoggedIn,(req, res) => {","\t\tres.render('keyword/add.ejs', {","\t\t\tuser: req.user","\t\t});","\t});"],"id":10713}],[{"start":{"row":108,"column":19},"end":{"row":108,"column":22},"action":"remove","lines":["add"],"id":10714},{"start":{"row":108,"column":19},"end":{"row":108,"column":20},"action":"insert","lines":["e"]}],[{"start":{"row":108,"column":20},"end":{"row":108,"column":21},"action":"insert","lines":["d"],"id":10715}],[{"start":{"row":108,"column":21},"end":{"row":108,"column":22},"action":"insert","lines":["i"],"id":10716}],[{"start":{"row":108,"column":22},"end":{"row":108,"column":23},"action":"insert","lines":["t"],"id":10717}],[{"start":{"row":108,"column":23},"end":{"row":108,"column":24},"action":"insert","lines":["/"],"id":10718}],[{"start":{"row":108,"column":24},"end":{"row":108,"column":25},"action":"insert","lines":[":"],"id":10719}],[{"start":{"row":108,"column":25},"end":{"row":108,"column":26},"action":"insert","lines":["i"],"id":10720}],[{"start":{"row":108,"column":26},"end":{"row":108,"column":27},"action":"insert","lines":["d"],"id":10721}],[{"start":{"row":109,"column":2},"end":{"row":111,"column":5},"action":"remove","lines":["res.render('keyword/add.ejs', {","\t\t\tuser: req.user","\t\t});"],"id":10722},{"start":{"row":109,"column":2},"end":{"row":114,"column":8},"action":"insert","lines":["Keyword.find( { user_id : req.user.id }, function(err, data){","\t    \tif (err) console.log(err);","\t        res.render('keyword/table.ejs', {","\t        \tkeywords: data","\t        })","\t    });"]}],[{"start":{"row":109,"column":18},"end":{"row":109,"column":25},"action":"remove","lines":["user_id"],"id":10723},{"start":{"row":109,"column":18},"end":{"row":109,"column":19},"action":"insert","lines":["_"]}],[{"start":{"row":109,"column":19},"end":{"row":109,"column":20},"action":"insert","lines":["i"],"id":10724}],[{"start":{"row":109,"column":20},"end":{"row":109,"column":21},"action":"insert","lines":["d"],"id":10725}],[{"start":{"row":108,"column":56},"end":{"row":109,"column":0},"action":"insert","lines":["",""],"id":10726},{"start":{"row":109,"column":0},"end":{"row":109,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":109,"column":2},"end":{"row":109,"column":32},"action":"insert","lines":["var keywordId = req.params.id;"],"id":10727}],[{"start":{"row":110,"column":24},"end":{"row":110,"column":35},"action":"remove","lines":["req.user.id"],"id":10728},{"start":{"row":110,"column":24},"end":{"row":110,"column":25},"action":"insert","lines":["l"]}],[{"start":{"row":110,"column":25},"end":{"row":110,"column":26},"action":"insert","lines":["e"],"id":10729}],[{"start":{"row":110,"column":26},"end":{"row":110,"column":27},"action":"insert","lines":["y"],"id":10730}],[{"start":{"row":110,"column":26},"end":{"row":110,"column":27},"action":"remove","lines":["y"],"id":10731}],[{"start":{"row":110,"column":25},"end":{"row":110,"column":26},"action":"remove","lines":["e"],"id":10732}],[{"start":{"row":110,"column":24},"end":{"row":110,"column":25},"action":"remove","lines":["l"],"id":10733}],[{"start":{"row":110,"column":24},"end":{"row":110,"column":25},"action":"insert","lines":["k"],"id":10734}],[{"start":{"row":110,"column":25},"end":{"row":110,"column":26},"action":"insert","lines":["e"],"id":10735}],[{"start":{"row":110,"column":26},"end":{"row":110,"column":27},"action":"insert","lines":["y"],"id":10736}],[{"start":{"row":110,"column":27},"end":{"row":110,"column":28},"action":"insert","lines":["w"],"id":10737}],[{"start":{"row":110,"column":24},"end":{"row":110,"column":28},"action":"remove","lines":["keyw"],"id":10738},{"start":{"row":110,"column":24},"end":{"row":110,"column":33},"action":"insert","lines":["keywordId"]}],[{"start":{"row":112,"column":29},"end":{"row":112,"column":34},"action":"remove","lines":["table"],"id":10739},{"start":{"row":112,"column":29},"end":{"row":112,"column":30},"action":"insert","lines":["e"]}],[{"start":{"row":112,"column":30},"end":{"row":112,"column":31},"action":"insert","lines":["d"],"id":10740}],[{"start":{"row":112,"column":31},"end":{"row":112,"column":32},"action":"insert","lines":["i"],"id":10741}],[{"start":{"row":112,"column":32},"end":{"row":112,"column":33},"action":"insert","lines":["t"],"id":10742}],[{"start":{"row":113,"column":10},"end":{"row":113,"column":18},"action":"remove","lines":["keywords"],"id":10743},{"start":{"row":113,"column":10},"end":{"row":113,"column":11},"action":"insert","lines":["k"]}],[{"start":{"row":113,"column":11},"end":{"row":113,"column":12},"action":"insert","lines":["e"],"id":10744}],[{"start":{"row":113,"column":12},"end":{"row":113,"column":13},"action":"insert","lines":["y"],"id":10745}],[{"start":{"row":113,"column":13},"end":{"row":113,"column":14},"action":"insert","lines":["o"],"id":10746}],[{"start":{"row":113,"column":13},"end":{"row":113,"column":14},"action":"remove","lines":["o"],"id":10747}],[{"start":{"row":113,"column":13},"end":{"row":113,"column":14},"action":"insert","lines":["w"],"id":10748}],[{"start":{"row":113,"column":14},"end":{"row":113,"column":15},"action":"insert","lines":["o"],"id":10749}],[{"start":{"row":113,"column":15},"end":{"row":113,"column":16},"action":"insert","lines":["r"],"id":10750}],[{"start":{"row":113,"column":16},"end":{"row":113,"column":17},"action":"insert","lines":["d"],"id":10751}],[{"start":{"row":103,"column":30},"end":{"row":105,"column":3},"action":"remove","lines":[", {","\t\t\tuser: req.user","\t\t}"],"id":10752}],[{"start":{"row":127,"column":32},"end":{"row":128,"column":0},"action":"insert","lines":["",""],"id":10753},{"start":{"row":128,"column":0},"end":{"row":128,"column":6},"action":"insert","lines":["\t    \t"]}],[{"start":{"row":128,"column":6},"end":{"row":128,"column":7},"action":"insert","lines":["c"],"id":10754}],[{"start":{"row":128,"column":7},"end":{"row":128,"column":8},"action":"insert","lines":["o"],"id":10755}],[{"start":{"row":128,"column":8},"end":{"row":128,"column":9},"action":"insert","lines":["n"],"id":10756}],[{"start":{"row":128,"column":9},"end":{"row":128,"column":10},"action":"insert","lines":["s"],"id":10757}],[{"start":{"row":128,"column":10},"end":{"row":128,"column":11},"action":"insert","lines":["o"],"id":10758}],[{"start":{"row":128,"column":11},"end":{"row":128,"column":12},"action":"insert","lines":["l"],"id":10759}],[{"start":{"row":128,"column":12},"end":{"row":128,"column":13},"action":"insert","lines":["e"],"id":10760}],[{"start":{"row":128,"column":13},"end":{"row":128,"column":14},"action":"insert","lines":["."],"id":10761}],[{"start":{"row":128,"column":14},"end":{"row":128,"column":15},"action":"insert","lines":["l"],"id":10762}],[{"start":{"row":128,"column":15},"end":{"row":128,"column":16},"action":"insert","lines":["o"],"id":10763}],[{"start":{"row":128,"column":16},"end":{"row":128,"column":17},"action":"insert","lines":["g"],"id":10764}],[{"start":{"row":128,"column":17},"end":{"row":128,"column":19},"action":"insert","lines":["()"],"id":10765}],[{"start":{"row":128,"column":18},"end":{"row":128,"column":19},"action":"insert","lines":["d"],"id":10766}],[{"start":{"row":128,"column":19},"end":{"row":128,"column":20},"action":"insert","lines":["a"],"id":10767}],[{"start":{"row":128,"column":20},"end":{"row":128,"column":21},"action":"insert","lines":["t"],"id":10768}],[{"start":{"row":128,"column":21},"end":{"row":128,"column":22},"action":"insert","lines":["a"],"id":10769}],[{"start":{"row":128,"column":23},"end":{"row":128,"column":24},"action":"insert","lines":[";"],"id":10770}],[{"start":{"row":108,"column":10},"end":{"row":108,"column":14},"action":"remove","lines":["find"],"id":10777},{"start":{"row":108,"column":10},"end":{"row":108,"column":27},"action":"insert","lines":["findByIdAndRemove"]}],[{"start":{"row":108,"column":30},"end":{"row":108,"column":48},"action":"remove","lines":[" _id : keywordId }"],"id":10778},{"start":{"row":108,"column":30},"end":{"row":108,"column":31},"action":"insert","lines":["k"]}],[{"start":{"row":108,"column":31},"end":{"row":108,"column":32},"action":"insert","lines":["e"],"id":10779}],[{"start":{"row":108,"column":32},"end":{"row":108,"column":33},"action":"insert","lines":["y"],"id":10780}],[{"start":{"row":108,"column":33},"end":{"row":108,"column":34},"action":"insert","lines":["w"],"id":10781}],[{"start":{"row":108,"column":34},"end":{"row":108,"column":35},"action":"insert","lines":["o"],"id":10782}],[{"start":{"row":108,"column":35},"end":{"row":108,"column":36},"action":"insert","lines":["r"],"id":10783}],[{"start":{"row":108,"column":36},"end":{"row":108,"column":37},"action":"insert","lines":["d"],"id":10784}],[{"start":{"row":108,"column":37},"end":{"row":108,"column":38},"action":"insert","lines":["I"],"id":10785}],[{"start":{"row":108,"column":30},"end":{"row":108,"column":38},"action":"remove","lines":["keywordI"],"id":10786},{"start":{"row":108,"column":30},"end":{"row":108,"column":39},"action":"insert","lines":["keywordId"]}],[{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"remove","lines":["{"],"id":10787}],[{"start":{"row":108,"column":28},"end":{"row":108,"column":29},"action":"remove","lines":[" "],"id":10788}],[{"start":{"row":128,"column":0},"end":{"row":129,"column":0},"action":"remove","lines":["\t    \tconsole.log(data);",""],"id":10789}],[{"start":{"row":108,"column":18},"end":{"row":108,"column":27},"action":"remove","lines":["AndRemove"],"id":10790}],[{"start":{"row":151,"column":6},"end":{"row":152,"column":0},"action":"insert","lines":["",""],"id":10811},{"start":{"row":152,"column":0},"end":{"row":152,"column":3},"action":"insert","lines":["\t  "]}],[{"start":{"row":153,"column":0},"end":{"row":153,"column":1},"action":"insert","lines":["\t"],"id":10814}],[{"start":{"row":153,"column":4},"end":{"row":154,"column":0},"action":"insert","lines":["",""],"id":10815},{"start":{"row":154,"column":0},"end":{"row":154,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":154,"column":1},"end":{"row":155,"column":0},"action":"insert","lines":["",""],"id":10816},{"start":{"row":155,"column":0},"end":{"row":155,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":155,"column":1},"end":{"row":174,"column":0},"action":"insert","lines":["app.post('/keyword/post-add', isLoggedIn,(req, res) => {","\t\t","\t  var newKeyword = new Keyword({","\t  \tname: req.body.name,","\t  \tlang: req.body.language,","\t  \tcount: req.body.count,","\t  \tuser_id: req.user.id","\t  });","\t  ","\t  newKeyword.save(function(err){","\t  \tif (err){","\t  \t\tconsole.log(err);","\t  \t}else{","\t  \t\tconsole.log('saved to database.');","\t\t\tres.redirect('/keyword/table');","\t  \t}","\t  });","\t  ","\t});",""],"id":10817}],[{"start":{"row":155,"column":25},"end":{"row":155,"column":28},"action":"remove","lines":["add"],"id":10818},{"start":{"row":155,"column":25},"end":{"row":155,"column":26},"action":"insert","lines":["e"]}],[{"start":{"row":155,"column":26},"end":{"row":155,"column":27},"action":"insert","lines":["d"],"id":10819}],[{"start":{"row":155,"column":27},"end":{"row":155,"column":28},"action":"insert","lines":["i"],"id":10820}],[{"start":{"row":155,"column":28},"end":{"row":155,"column":29},"action":"insert","lines":["t"],"id":10821}],[{"start":{"row":155,"column":29},"end":{"row":155,"column":30},"action":"insert","lines":["/"],"id":10822}],[{"start":{"row":155,"column":0},"end":{"row":173,"column":4},"action":"remove","lines":["\tapp.post('/keyword/post-edit/', isLoggedIn,(req, res) => {","\t\t","\t  var newKeyword = new Keyword({","\t  \tname: req.body.name,","\t  \tlang: req.body.language,","\t  \tcount: req.body.count,","\t  \tuser_id: req.user.id","\t  });","\t  ","\t  newKeyword.save(function(err){","\t  \tif (err){","\t  \t\tconsole.log(err);","\t  \t}else{","\t  \t\tconsole.log('saved to database.');","\t\t\tres.redirect('/keyword/table');","\t  \t}","\t  });","\t  ","\t});"],"id":11020}],[{"start":{"row":154,"column":1},"end":{"row":155,"column":0},"action":"remove","lines":["",""],"id":11021}],[{"start":{"row":154,"column":0},"end":{"row":154,"column":1},"action":"remove","lines":["\t"],"id":11022}],[{"start":{"row":153,"column":4},"end":{"row":154,"column":0},"action":"insert","lines":["",""],"id":11023},{"start":{"row":154,"column":0},"end":{"row":154,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":154,"column":1},"end":{"row":155,"column":0},"action":"insert","lines":["",""],"id":11024},{"start":{"row":155,"column":0},"end":{"row":155,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":155,"column":1},"end":{"row":177,"column":4},"action":"insert","lines":["app.get('/keyword/edit/:id', isLoggedIn,(req, res) => {","\t\tvar keywordId = req.params.id;","\t\tKeyword.findById(keywordId, function(err, data){","\t    \tif (err) console.log(err);","\t        res.render('keyword/edit.ejs', {","\t        \tkeyword: data","\t        })","\t    });","\t});","\t","\tapp.post('/keyword/post-edit/:id', isLoggedIn,(req, res) => {","\t\t","\t\tvar keywordId = req.params.id;","\t\tKeyword.findById(keywordId, function (err, doc) {","\t\t  if (err) console.log(err);","\t\t  doc.name = req.body.name;","\t\t  doc.lang = req.body.lang;","\t\t  doc.count = req.body.count;","\t\t  doc.save(doc);","\t\t  res.redirect('/keyword/table');","\t\t});","\t  ","\t});"],"id":11025}],[{"start":{"row":106,"column":0},"end":{"row":114,"column":4},"action":"remove","lines":["\tapp.get('/keyword/edit/:id', isLoggedIn,(req, res) => {","\t\tvar keywordId = req.params.id;","\t\tKeyword.findById(keywordId, function(err, data){","\t    \tif (err) console.log(err);","\t        res.render('keyword/edit.ejs', {","\t        \tkeyword: data","\t        })","\t    });","\t});"],"id":11026}],[{"start":{"row":105,"column":1},"end":{"row":106,"column":0},"action":"remove","lines":["",""],"id":11027}],[{"start":{"row":105,"column":0},"end":{"row":105,"column":1},"action":"remove","lines":["\t"],"id":11028}],[{"start":{"row":104,"column":4},"end":{"row":105,"column":0},"action":"remove","lines":["",""],"id":11029}]]},"ace":{"folds":[],"scrolltop":84,"scrollleft":0,"selection":{"start":{"row":8,"column":34},"end":{"row":8,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":4,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1494859805160,"hash":"cd37cef9965cc57330a60c1da5ff5c4aade8c4c2"}